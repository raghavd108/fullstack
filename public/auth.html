<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/auth.css" />
    <title>Sign In / Sign Up</title>
  </head>
  <body>
    <div class="container">
      <div class="form-box" style="display: none" id="signupForm">
        <h2>Sign Up</h2>
        <form id="signUpForm">
          <input type="text" id="firstName" placeholder="First Name" required />
          <input type="text" id="lastName" placeholder="Last Name" required />
          <input type="email" id="signupEmail" placeholder="Email" required />
          <input
            type="password"
            id="signupPassword"
            placeholder="Password"
            required
          />
          <input
            type="password"
            id="confirmPassword"
            placeholder="Confirm Password"
            required
          />
          <input type="submit" value="Sign Up" />
        </form>
        <p>
          Already have an account?
          <a href="#" onclick="toggleForm()">Sign In</a>
        </p>
      </div>
      <div class="form-box" id="signInForm">
        <h2>Sign In</h2>
        <form id="signInForm">
          <input type="email" id="signInEmail" placeholder="Email" required />
          <input
            type="password"
            id="signInPassword"
            placeholder="Password"
            required
          />
          <input type="submit" value="Sign In" />
        </form>
        <p>
          Don't have an account? <a href="#" onclick="toggleForm()">Sign Up</a>
        </p>
        <p>
          <a href="#" onclick="showForgotPasswordForm()">Forgot Password?</a>
        </p>
      </div>
      <div class="form-box" style="display: none" id="forgotPasswordForm">
        <h2>Reset Password</h2>
        <form id="passwordResetRequestForm">
          <input
            type="email"
            id="resetEmail"
            placeholder="Enter your email"
            required
          />
          <input type="submit" value="Send Reset Link" />
        </form>
      </div>
      <div class="form-box" style="display: none" id="setNewPasswordForm">
        <h2>Set New Password</h2>
        <form id="newPasswordForm">
          <input
            type="password"
            id="newPassword"
            placeholder="New Password"
            required
          />
          <input
            type="password"
            id="confirmNewPassword"
            placeholder="Confirm New Password"
            required
          />
          <input type="submit" value="Set Password" />
        </form>
      </div>
      <div id="message"></div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="auth.js"></script>
    <script>
      // JavaScript to handle all popup-trigger and popup-content pairs
      document.addEventListener("DOMContentLoaded", () => {
        const triggers = document.querySelectorAll(".popup-trigger");

        triggers.forEach((trigger) => {
          const popup = trigger.querySelector(".popup-content");
          let hideTimeout;

          trigger.addEventListener("mouseenter", () => {
            clearTimeout(hideTimeout);
            popup.style.display = "block";
          });

          popup.addEventListener("mouseenter", () => {
            clearTimeout(hideTimeout);
            popup.style.display = "block";
          });

          trigger.addEventListener("mouseleave", () => {
            hideTimeout = setTimeout(() => {
              popup.style.display = "none";
            }, 300); // Short delay to allow cursor to enter popup
          });

          popup.addEventListener("mouseleave", () => {
            hideTimeout = setTimeout(() => {
              popup.style.display = "none";
            }, 300); // Optional: adjust if user takes time to leave popup
          });
        });
      });

      // Placeholder for search functionality
      function searchProducts() {
        const query = document.getElementById("search-bar").value;
        alert("Searching for: " + query);
      }
    </script>
  </body>
</html>
